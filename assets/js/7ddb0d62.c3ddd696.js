"use strict";(self.webpackChunksmd_knowledge_base=self.webpackChunksmd_knowledge_base||[]).push([[2269],{9814:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var t=i(5893),r=i(1151);const a={id:"other-4",title:"Kinesis Receipt Payload",sidebar_label:"Kinesis Receipt Payload"},l="Understanding Kinesis Receipt Payload",s={id:"other/other-4",title:"Kinesis Receipt Payload",description:"Table of Contents",source:"@site/docs/other/kinesis-receipt-payload.md",sourceDirName:"other",slug:"/other/other-4",permalink:"/test1-smd-knowledge-base/docs/other/other-4",draft:!1,unlisted:!1,editUrl:"https://github.com/n42rain/test1-smd-knowledge-base/tree/master/docs/other/kinesis-receipt-payload.md",tags:[],version:"current",frontMatter:{id:"other-4",title:"Kinesis Receipt Payload",sidebar_label:"Kinesis Receipt Payload"},sidebar:"otherSidebar",previous:{title:"How to Update Tank Config",permalink:"/test1-smd-knowledge-base/docs/other/other-3"}},d={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Item Types",id:"item-types",level:2},{value:"Receipt Types",id:"receipt-types",level:2},{value:"Drawer Session vs Day Operation vs Attendant Tagging",id:"drawer-session-vs-day-operation-vs-attendant-tagging",level:2},{value:"Drawer Session",id:"drawer-session",level:3},{value:"Day Operation",id:"day-operation",level:3},{value:"Attendant Tagging",id:"attendant-tagging",level:3},{value:"Payment Allocation in line item attribute",id:"payment-allocation-in-line-item-attribute",level:2},{value:"Cancelled Item",id:"cancelled-item",level:2},{value:"Difference Between Receipt Number and Sequence Number",id:"difference-between-receipt-number-and-sequence-number",level:2},{value:"Terminal Type and Terminal Id",id:"terminal-type-and-terminal-id",level:2},{value:"Difference Between Payments and Payment Allocation",id:"difference-between-payments-and-payment-allocation",level:2},{value:"Tags and Categories",id:"tags-and-categories",level:2},{value:"Amount Attributes",id:"amount-attributes",level:2},{value:"Discounts",id:"discounts",level:2},{value:"Loyalty",id:"loyalty",level:2},{value:"Price and Price Override",id:"price-and-price-override",level:2}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"understanding-kinesis-receipt-payload",children:"Understanding Kinesis Receipt Payload"}),"\n",(0,t.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#item-types",children:"Item Types"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#receipt-types",children:"Receipt Types"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#drawer-session-vs-day-operation-vs-attendant-tagging",children:"Drawer Session vs Day Operation vs Attendant Tagging"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#payment-allocation-in-line-item-attribute",children:"Payment Allocation in Line Item Attribute"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#cancelled-item",children:"Cancelled Item"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#difference-between-receipt-number-and-sequence-number",children:"Difference Between Receipt Number and Sequence Number"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#terminal-type-and-terminal-id",children:"Terminal Type and Terminal Id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#difference-between-payments-and-payment-allocation",children:"Difference Between Payments and Payment Allocation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#tags-and-categories",children:"Tags and Categories"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#amount-attributes",children:"Amount Attributes"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#discounts",children:"Discounts"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#loyalty",children:"Loyalty"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#price-and-price-override",children:"Price and Price Override"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"item-types",children:"Item Types"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["There are 2 line item types:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"cstore"}),"\n",(0,t.jsx)(n.li,{children:"fuel"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"receipt-types",children:"Receipt Types"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["There are 3 Receipt types:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"SALE"}),"\n",(0,t.jsx)(n.li,{children:"REFUND"}),"\n",(0,t.jsx)(n.li,{children:"VOID"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"drawer-session-vs-day-operation-vs-attendant-tagging",children:"Drawer Session vs Day Operation vs Attendant Tagging"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Receipt will contain 1 of drawer session, day operation or attendant tagging."}),"\n",(0,t.jsx)(n.li,{children:"If 1 is included, the others will be null."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"drawer-session",children:"Drawer Session"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Definition: ",(0,t.jsx)(n.em,{children:"to fill"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'{\r\n    ...\r\n    "drawer_session": {\r\n        "id": "654d962d699ab34e16157cda",\r\n        "staff_id": 15068,\r\n        "device_id": 70,\r\n        "staff_name": "Mei Mei",\r\n        "device_code": "16",\r\n        "device_name": "POS P - Bandar Baru Bangi",\r\n        "sequence_number": "16000046"\r\n    },\r\n    ...\r\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"day-operation",children:"Day Operation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Definition: ",(0,t.jsx)(n.em,{children:"to fill"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'{\r\n    ...\r\n    "day_operation" : {\r\n        "id" : "6555e19031e74a5e6f5888cb",\r\n        "sequence_number" : "001269"\r\n    },\r\n    ...\r\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"attendant-tagging",children:"Attendant Tagging"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Definition: ",(0,t.jsx)(n.em,{children:"to fill"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'{\r\n    ...\r\n    "forecourt_attendant": {\r\n        "id": "6548aaad15c6ef5ef312fbeb",\r\n        "card_id": 24,\r\n        "card_pan": ".........0021",\r\n        "staff_id": 15072,\r\n        "staff_name": "Haiqal",\r\n        "sequence_number": "000297"\r\n    }\r\n    ...\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"payment-allocation-in-line-item-attribute",children:"Payment Allocation in line item attribute"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Definition: payment amount distributed to the line item."}),"\n",(0,t.jsx)(n.li,{children:"Payment allocation excludes rounding."}),"\n",(0,t.jsxs)(n.li,{children:["Only includes a summary with ",(0,t.jsx)(n.code,{children:"receipt_payment_id"})," which is the same as ",(0,t.jsx)(n.code,{children:"payments.id"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Additional details such as card number can be get from ",(0,t.jsx)(n.code,{children:"payments"})," attribute."]}),"\n",(0,t.jsxs)(n.li,{children:["Every ",(0,t.jsx)(n.code,{children:"SALE"})," lineitem will have at least 1 payment allocation."]}),"\n",(0,t.jsx)(n.li,{children:"Cancelled line items will have empty payment allocation."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"cancelled-item",children:"Cancelled Item"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Individual line item in a receipt can be cancelled, in which case the ",(0,t.jsx)(n.code,{children:"cancel_details"})," attribute is present in ",(0,t.jsx)(n.code,{children:"line_items"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:'{\r\n    ...\r\n    "cancel_details": {\r\n        "staff_id": 15073,\r\n        "staff_name": "Joey",\r\n        "cancelled_at": "2023-11-17T15:33:55+08:00",\r\n        "cancel_reason": "CANCEL_PURCHASE"\r\n    },\r\n    ...\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"difference-between-receipt-number-and-sequence-number",children:"Difference Between Receipt Number and Sequence Number"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"terminal-type-and-terminal-id",children:"Terminal Type and Terminal Id"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"difference-between-payments-and-payment-allocation",children:"Difference Between Payments and Payment Allocation"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"tags-and-categories",children:"Tags and Categories"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"amount-attributes",children:"Amount Attributes"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"discounts",children:"Discounts"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"loyalty",children:"Loyalty"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"price-and-price-override",children:"Price and Price Override"}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>s,a:()=>l});var t=i(7294);const r={},a=t.createContext(r);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);